{% extends template('widget') %}

{% block body %}
    {% include molecule('script-loader') with {
        attributes: {
            src: _view.amazonpayConfig.isSandbox ? _view.amazonpayConfig.widgetScriptPathSandbox : _view.amazonpayConfig.widgetPathScript
        }
    } only %}

    {% include atom('cart-pay-button', 'AmazonPay') with {
        attributes: {
            clientId: _view.amazonpayConfig.clientId,
            sellerId: _view.amazonpayConfig.sellerId,
            logout: _view.logout,
            redirectUrl: path('amazonpay_checkout', {'amazonpay': 'amazonpay'}),
            buttonType: _view.amazonpayConfig.buttonType,
            buttonColor: _view.amazonpayConfig.buttonColor,
            buttonSize: _view.amazonpayConfig.buttonSize,
            locale: app.locale,
            loginScopeOptions: 'profile postal_code payments:widget payments:shipping_address payments:billing_address',
            loginPopupOptions: 'true'
        }
    } only %}